document.body.innerHTML="<canvas id='c' width=512 height=512>";s=document.getElementById("c").getContext("2d");u=(x,y)=>{l=k;t.unshift([t[0][0]+x,t[0][1]+y])};n=()=>{return ~~(Math.random()*8)};document.body.onkeydown=e=>{if((l=="w"&&e.key=="s")||(l=="s"&&e.key=="w")||(l=="a"&&e.key=="d")||(l=="d"&&e.key=="a"))return;k=e.key};r=(x,y,c)=>f(x*32,y*32,32,32,c);f=(x,y,w,h,c)=>{s.fillStyle="#"+c;s.fillRect(x,y,w,h)};g=()=>{x=n();y=n();for(i of t)if(i.toString()==[x,y].toString())g()};x=y=p=k=l=0;j=250;t=[[9,9]];m=()=>{;p=1;k=="w"?u(0,-1):k=="s"?u(0,1):k=="a"?u(-1,0):k=="d"?u(1,0):p=0;if(t[0][0]==x&&t[0][1]==y)g();else if(p)t.pop();f(0,0,512,512,888);r(...t[0],"0e0");if(t[0][0]<0||t[0][0]>15||t[0][1]<0||t[0][1]>15)return;for(i in t)if(i!=0){r(...t[i],"aaa");if(t[i].toString()==t[0].toString())return}if(p)r(x,y,100);setTimeout(m,j-t.length*5)};m()